!function(a){a.fn.serializeArrayAll=function(){var t=/\r?\n/g;return this.map((function(){return this.elements?a.makeArray(this.elements):this})).map((function(e,r){var o=a(this).val();if(null==o)return null==o;if("checkbox"===this.type){if(this.checked)return{name:this.name,value:this.checked?this.value:""}}else{if("radio"!==this.type)return a.isArray(o)?a.map(o,(function(a,e){return{name:r.name,value:a.replace(t,"\r\n")}})):{name:r.name,value:o.replace(t,"\r\n")};if(this.checked)return{name:this.name,value:this.checked?this.value:""}}})).get()},a(document).on("wooaa_adding_to_cart",(function(a,t){t.removeClass("added").addClass("loading")})),a(document).on("wooaa_added_to_cart",(function(a,t,e,r){r.removeClass("loading").addClass("added")})),a(document).on("click",".single_add_to_cart_button:not(.disabled, .wpc-disabled, .wooaa-disabled, .wooco-disabled, .woosb-disabled, .woobt-disabled, .woosg-disabled, .woofs-disabled, .woopq-disabled, .wpcbn-btn, .wpcuv-update)",(function(t){var e,r,o,d,n=!1,i=a(this),c=i.closest("form.cart");if(void 0!==wooaa_vars.product_types&&((e=wooaa_vars.product_types.split(",")).includes("all")?n=!0:e.forEach((function(a){i.is(".product-type-"+a+" .single_add_to_cart_button")&&(n=!0)}))),n)return t.preventDefault(),r=c.find('input:not([name="product_id"]), select, button, textarea').serializeArrayAll()||0,a.each(r,(function(a,t){"add-to-cart"===t.name&&(t.name="product_id",t.value=c.find("input[name=variation_id]").val()||c.find("input.variation_id").val()||c.find("input[name=add-to-cart]").val()||i.val())})),a(document.body).trigger("wooaa_adding_to_cart",[i,r]),a(document.body).trigger("adding_to_cart",[i,r]),i.is(".product-type-variable .single_add_to_cart_button")?(o={},d={},c.find("select[name^=attribute]").each((function(){var t=a(this).attr("name"),e=a(this).val();d[t]=e})),a.each(r,(function(a,t){""!==t.name&&(o[t.name]=t.value)})),o.action="wooaa_add_to_cart_variable",o.variation=d,a.post(wooaa_vars.ajax_url,o,(function(t){t&&(t.error&&t.product_url?window.location=t.product_url:"yes"!==wc_add_to_cart_params.cart_redirect_after_add?(a(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,i]),a(document.body).trigger("wooaa_added_to_cart",[t.fragments,t.cart_hash,i])):window.location=wc_add_to_cart_params.cart_url)}))):a.ajax({type:"POST",url:wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),data:r,success:function(t){t&&(t.error&&t.product_url?window.location=t.product_url:"yes"!==wc_add_to_cart_params.cart_redirect_after_add?(a(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,i]),a(document.body).trigger("wooaa_added_to_cart",[t.fragments,t.cart_hash,i])):window.location=wc_add_to_cart_params.cart_url)},dataType:"json"}),!1}))}(jQuery);