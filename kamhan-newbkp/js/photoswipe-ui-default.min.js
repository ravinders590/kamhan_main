/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */
!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,(function(){"use strict";return function(e,t){var n,o,l,r,i,s,a,u,c,p,d,m,f,h,w,g,b,_,v=this,C=!1,T=!0,I=!0,E={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},F=function(e){if(g)return!0;e=e||window.event,w.timeToIdle&&w.mouseUsed&&!c&&y();for(var n,o,l=(e.target||e.srcElement).getAttribute("class")||"",r=0;r<A.length;r++)(n=A[r]).onTap&&-1<l.indexOf("pswp__"+n.name)&&(n.onTap(),o=!0);o&&(e.stopPropagation&&e.stopPropagation(),g=!0,e=t.features.isOldAndroid?600:30,setTimeout((function(){g=!1}),e))},x=function(e,n,o){t[(o?"add":"remove")+"Class"](e,"pswp__"+n)},S=function(){var e=1===w.getNumItemsFn();e!==h&&(x(o,"ui--one-slide",e),h=e)},k=function(){x(a,"share-modal--hidden",I)},K=function(){if((I=!I)?(t.removeClass(a,"pswp__share-modal--fade-in"),setTimeout((function(){I&&k()}),300)):(k(),setTimeout((function(){I||t.addClass(a,"pswp__share-modal--fade-in")}),30)),!I){for(var e,n,o,l,r="",i=0;i<w.shareButtons.length;i++)e=w.shareButtons[i],n=w.getImageURLForShare(e),o=w.getPageURLForShare(e),l=w.getTextForShare(e),r+='<a href="'+(o=e.url.replace("{{url}}",encodeURIComponent(o)).replace("{{image_url}}",encodeURIComponent(n)).replace("{{raw_image_url}}",n).replace("{{text}}",encodeURIComponent(l)))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",w.parseShareButtonOut&&(r=w.parseShareButtonOut(e,r));a.children[0].innerHTML=r,a.children[0].onclick=L}return!1},L=function(t){var n=(t=t||window.event).target||t.srcElement;if(e.shout("shareLinkClick",t,n),n.href){if(n.hasAttribute("download"))return!0;window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),I||K()}return!1},O=function(e){for(var n=0;n<w.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+w.closeElClasses[n]))return!0},R=0,y=function(){clearTimeout(_),R=0,c&&v.setIdle(!1)},z=function(e){(e=(e=e||window.event).relatedTarget||e.toElement)&&"HTML"!==e.nodeName||(clearTimeout(_),_=setTimeout((function(){v.setIdle(!0)}),w.timeToIdleOutside))},M=function(e){m!==e&&(x(d,"preloader--active",!e),m=e)},D=function(n){var i,s=n.vGap;!e.likelyTouchDevice||w.mouseUsed||screen.width>w.fitControlsWidth?(i=w.barsSize,w.captionEl&&"auto"===i.bottom?(r||((r=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),o.insertBefore(r,l),t.addClass(o,"pswp__ui--fit")),w.addCaptionHTMLFn(n,r,!0)?(n=r.clientHeight,s.bottom=parseInt(n,10)||44):s.bottom=i.top):s.bottom="auto"===i.bottom?0:i.bottom,s.top=i.top):s.top=s.bottom=0},A=[{name:"caption",option:"captionEl",onInit:function(e){l=e}},{name:"share-modal",option:"shareEl",onInit:function(e){a=e},onTap:function(){K()}},{name:"button--share",option:"shareEl",onInit:function(e){s=e},onTap:function(){K()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){i=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){d=e}}];v.init=function(){var i,u,c,d,m,h;t.extend(e.options,E,!0),w=e.options,o=t.getChildByClass(e.scrollWrap,"pswp__ui"),(p=e.listen)("onVerticalDrag",(function(e){T&&e<.95?v.hideControls():!T&&.95<=e&&v.showControls()})),p("onPinchClose",(function(e){T&&e<.9?(v.hideControls(),i=!0):i&&!T&&.9<e&&v.showControls()})),p("zoomGestureEnded",(function(){(i=!1)&&!T&&v.showControls()})),p("beforeChange",v.update),p("doubleTap",(function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(w.getDoubleTapZoom(!1,e.currItem),t,333)})),p("preventDragEvent",(function(e,t,n){var o=e.target||e.srcElement;o&&o.getAttribute("class")&&-1<e.type.indexOf("mouse")&&(0<o.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)})),p("bindEvents",(function(){t.bind(o,"pswpTap click",F),t.bind(e.scrollWrap,"pswpTap",v.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",v.onMouseOver)})),p("unbindEvents",(function(){I||K(),b&&clearInterval(b),t.unbind(document,"mouseout",z),t.unbind(document,"mousemove",y),t.unbind(o,"pswpTap click",F),t.unbind(e.scrollWrap,"pswpTap",v.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",v.onMouseOver),n&&(t.unbind(document,n.eventK,v.updateFullscreen),n.isFullscreen()&&(w.hideAnimationDuration=0,n.exit()),n=null)})),p("destroy",(function(){w.captionEl&&(r&&o.removeChild(r),t.removeClass(l,"pswp__caption--empty")),a&&(a.children[0].onclick=null),t.removeClass(o,"pswp__ui--over-close"),t.addClass(o,"pswp__ui--hidden"),v.setIdle(!1)})),w.showAnimationDuration||t.removeClass(o,"pswp__ui--hidden"),p("initialZoomIn",(function(){w.showAnimationDuration&&t.removeClass(o,"pswp__ui--hidden")})),p("initialZoomOut",(function(){t.addClass(o,"pswp__ui--hidden")})),p("parseVerticalMargin",D),(m=function(e){if(e)for(var n=e.length,o=0;o<n;o++){u=e[o],c=u.className;for(var l=0;l<A.length;l++)d=A[l],-1<c.indexOf("pswp__"+d.name)&&(w[d.option]?(t.removeClass(u,"pswp__element--disabled"),d.onInit&&d.onInit(u)):t.addClass(u,"pswp__element--disabled"))}})(o.children),(h=t.getChildByClass(o,"pswp__top-bar"))&&m(h.children),w.shareEl&&s&&a&&(I=!0),S(),w.timeToIdle&&p("mouseUsed",(function(){t.bind(document,"mousemove",y),t.bind(document,"mouseout",z),b=setInterval((function(){2==++R&&v.setIdle(!0)}),w.timeToIdle/2)})),w.fullscreenEl&&!t.features.isOldAndroid&&((n=n||v.getFullscreenAPI())?(t.bind(document,n.eventK,v.updateFullscreen),v.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs")),w.preloaderEl&&(M(!0),p("beforeChange",(function(){clearTimeout(f),f=setTimeout((function(){e.currItem&&e.currItem.loading?e.allowProgressiveImg()&&(!e.currItem.img||e.currItem.img.naturalWidth)||M(!1):M(!0)}),w.loadingIndicatorDelay)})),p("imageLoadComplete",(function(t,n){e.currItem===n&&M(!0)})))},v.setIdle=function(e){x(o,"ui--idle",c=e)},v.update=function(){C=!(!T||!e.currItem||(v.updateIndexIndicator(),w.captionEl&&(w.addCaptionHTMLFn(e.currItem,l),x(l,"caption--empty",!e.currItem.title)),0)),I||K(),S()},v.updateFullscreen=function(o){o&&setTimeout((function(){e.setScrollOffset(0,t.getScrollY())}),50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},v.updateIndexIndicator=function(){w.counterEl&&(i.innerHTML=e.getCurrentIndex()+1+w.indexIndicatorSep+w.getNumItemsFn())},v.onGlobalTap=function(n){var o=(n=n||window.event).target||n.srcElement;g||(n.detail&&"mouse"===n.detail.pointerType?O(o)?e.close():t.hasClass(o,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?w.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint)):(w.tapToToggleControls&&(T?v.hideControls():v.showControls()),w.tapToClose&&(t.hasClass(o,"pswp__img")||O(o))&&e.close()))},v.onMouseOver=function(e){e=(e=e||window.event).target||e.srcElement,x(o,"ui--over-close",O(e))},v.hideControls=function(){t.addClass(o,"pswp__ui--hidden"),T=!1},v.showControls=function(){T=!0,C||v.update(),t.removeClass(o,"pswp__ui--hidden")},v.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},v.getFullscreenAPI=function(){var t,n=document.documentElement,o="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:o}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+o}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+o}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(u=w.closeOnScroll,w.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return e.template[this.enterK]();e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return w.closeOnScroll=u,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}}));